# Install Following Packages
sudo apt-get install libnspr4-dev
sudo pip install python-spidermonkey
sudo pip install pyenchant
sudo pip install BeautifulSoup
sudo apt-get install libtool
sudo apt-get install python-dateutil
sudo apt-get install clamav clamav-daemon
sudo pip install hachoir_subfile
sudo pip install hachoir_regex

# Download File
wget http://libdasm.googlecode.com/files/libdasm-1.5.tar.gz 
tar -xzvf libdasm-1.5.tar.gz 
cd libdasm-1.5/
make
sudo make install
cd pydasm/
python setup.py build_ext
sudo python setup.py install

sudo apt-get install python-pefile
sudo apt-get install rabbitmq-server
sudo pip install celery
sudo apt-get install python-mysqldb
sudo pip install python-magic
sudo pip install logging
sudo apt-get install python-libemu
sudo pip install pylibemu
sudo apt-get install python-dev
sudo apt-get install libtool
sudo apt-get install automake
sudo apt-get install build-essential libboost-all-dev cmake flex
sudo apt-get install autoreconf

# Clone File 
git clone --recursive https://github.com/buffer/pylibemu.git
sudo python setup.py install

sudo apt-get install python-beautifulsoup
sudo pip install bs4
sudo apt-get install libnspr4-dev
sudo pip install python-spidermonkey
sudo pip install pyenchant
sudo pip install mysql-python

# Download File
https://github.com/VirusTotal/yara/archive/v3.4.0.tar.gz
tar -zxf yara-3.5.0.tar.gz
cd yara-3.5.0
./bootstrap.sh

sudo apt-get flex bison
sudo apt-get install libjansson-dev
sudo apt-get install libmagic-dev
sudo pip install yara-python
sudo pip install hachoir_core
sudo pip install hachoir_parser
sudo pip install hachoir_regex
sudo pip install nltk
sudo apt-get install rabbitmq-server
sudo pip install celery
sudo apt-get install redis-server
sudo pip install -U celery[redis]
sudo apt-get install php5 
sudo apt-get install apache2

# Add User
sudo adduser malware
sudo passwd malware
server_port = 60001  

# start Server for File
python server_file.py

vi /etc/apache2/apache2.conf 
# Add Following Code
<Directory /home/jays>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
</Directory> 

sudo vi /etc/apache2/sites-enabled/000-default.conf

# Add Following Code
DocumentRoot /home/jays/task/report 

# restart apache service
sudo service apache2 restart

# How to use and start analysis.

Paste "malware-analysis" folder into /home/malware Directory.
cd /home/malware/malware-analysis

# Open config.cfg file and set server ip
vi config.cfg
[config]
server_ip = 192.168.1.18

# start celery task
celery -A tasks worker  -l info

We can run server in two mode (you cat start server in any single mode)
1. file submission (you can submit file and get results)
2. md5 submission (you can submit md5 values and get results for file )

# start server for file submission
python server_file.py

# start server for md5 submission
python server_mac.py

# client config 
cd client
In this folder two client availabel for file and mac.

There are two config file 1 for file submit and two for mac for.
1. python static_client_file.py 192.168.1.18 60001 sample.pdf XP
2. python static_client_file.py 192.168.1.18 60001 d113cd13983a1633984f2a89ff1a868a

This config file are python based soo you can run this file on any platform where python running.

# get results of submitted file

open link in browser
http://server-ip/

